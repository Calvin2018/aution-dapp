webpackJsonp([8],{ATzu:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("y7k7"),a=s("SWAV"),n=s("oFuF"),r={created:function(){},data:function(){return{number:0,barList1:["进行中拍卖","拍卖成功","拍卖失败"],barList2:["进行中竞拍","竞拍成功","竞拍失败"],status:this.$store.state.user.status,active:this.$store.state.user.active,finished:!1,refreshLoading:!1,loading:!1,commodityList:[],pageSize:10,currentPage:1}},computed:{title:function(){return this.number<=3?"参与的拍卖":"参与的竞拍"}},methods:{onLoad:function(){this.updateList()},onRefresh:function(){this.currentPage,this.updateList()},backHandler:function(){this.$router.go(-1)},goDetailHandler:function(t){this.$router.push({path:"/detail",name:"Detail",query:{goodsId:this.commodityList[t].goodsId,shwoBtn:!0}})},updateList:function(){var t=this,e=void 0;0===this.status?0===this.active?e={apiObj:i.a.findGoodsBySellerIdAndStatus,query:{sellerId:this.$store.state.user.id,size:this.pageSize,page:this.currentPage-1,status:1}}:1===this.active?e={apiObj:i.a.findGoodsBySellerIdAndStatus,query:{sellerId:this.$store.state.user.id,size:this.pageSize,page:this.currentPage-1,status:2}}:2===this.active&&(e={apiObj:i.a.findGoodsBySellerIdAndStatus,query:{sellerId:this.$store.state.user.id,size:this.pageSize,page:this.currentPage-1,status:3}}):1===this.status&&(0===this.active?e={apiObj:i.a.findGoodsByBuyerIdAndStatus,query:{buyerId:this.$store.state.user.id,size:this.pageSize,page:this.currentPage-1,status:1}}:1===this.active?e={apiObj:i.a.findGoodsByBuyerIdAndStatus,query:{buyerId:this.$store.state.user.id,size:this.pageSize,page:this.currentPage-1,status:2}}:2===this.active&&(e={apiObj:i.a.findGoodsByBuyerIdAndStatus,query:{buyerId:this.$store.state.user.id,size:this.pageSize,page:this.currentPage-1,status:3}})),a.a.accessAPI(e).then(function(e){t.commodityList=e,t.commodityList.forEach(function(t){t.endTime=n.a.dateToStr(new Date(t.endTime),5)}),t.loading=!1,t.commodityList.length<=t.currentPage*t.pageSize?t.finished=!0:t.currentPage++},function(e){t.commodityList=[],t.loading=!1,t.finished=!0})}},watch:{active:function(){this.$store.commit("user/setStatusA",{status:this.status,active:this.active}),this.updateList()}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-page"},[i("div",{staticClass:"list-title"},[i("img",{staticClass:"back-btn",attrs:{src:s("s50C")},on:{click:t.backHandler}}),t._v("\n        "+t._s(t.title)+"\n    ")]),t._v(" "),i("van-tabs",{attrs:{animated:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(3,function(e){return i("van-tab",{key:e,attrs:{title:0===t.status?t.barList1[e-1]:t.barList2[e-1]}},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshLoading,callback:function(e){t.refreshLoading=e},expression:"refreshLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.commodityList,function(e,s){return i("div",{key:e.goodsId,staticClass:"commodity-item",attrs:{title:e.goodsId},on:{click:function(e){return t.goDetailHandler(s)}}},[i("div",{staticClass:"img-box"},[i("img",{attrs:{src:"https://ww1.sinaimg.cn/large/663d3650gy1fq66vvsr72j20p00gogo2.jpg",alt:""}})]),t._v(" "),i("div",{staticClass:"desc-box"},[i("div",{staticClass:"desc-title"},[t._v(t._s(e.title))]),t._v(" "),1===t.active||1===t.status&&2===t.active?t._e():i("div",{staticClass:"desc-time"},[t._v("截止时间："+t._s(e.endTime))]),t._v(" "),1===t.active||1===t.status&&2===t.active?i("div",{staticClass:"desc-time"},[t._v("成交时间："+t._s(e.endTime))]):t._e(),t._v(" "),0===t.active?i("div",{staticClass:"desc-price"},[t._v("当前价格："+t._s(e.currentPrice)+" Scoin")]):t._e(),t._v(" "),1===t.active||1===t.status&&2===t.active?i("div",{staticClass:"desc-price"},[t._v("成交价："+t._s(e.currentPrice)+" Scoin")]):t._e(),t._v(" "),0===t.status&&2===t.active?i("div",{staticClass:"desc-price"},[t._v("起拍价："+t._s(e.startPrice)+" Scoin")]):t._e()]),t._v(" "),i("div",{staticClass:"quiz-btn"})])}),0)],1)],1)}),1)],1)},staticRenderFns:[]};var d=s("VU/8")(r,c,!1,function(t){s("zZCR")},null,null);e.default=d.exports},zZCR:function(t,e){}});
//# sourceMappingURL=8.53f27bb706fb321b2a61.js.map